<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 480">
  <defs>
    <linearGradient id="bgCache" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a"/>
      <stop offset="100%" style="stop-color:#1e293b"/>
    </linearGradient>
    <filter id="shadowCache" x="-10%" y="-10%" width="120%" height="130%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <rect width="100%" height="100%" fill="url(#bgCache)"/>
  
  <!-- Title -->
  <text x="450" y="40" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="24" font-weight="bold" fill="#f8fafc">üóÉÔ∏è Caching Strategy</text>
  
  <!-- Layer 1 -->
  <g transform="translate(50, 70)" filter="url(#shadowCache)">
    <rect width="800" height="85" rx="14" fill="#1e293b"/>
    <rect width="80" height="85" rx="14 0 0 14" fill="#3b82f6"/>
    <text x="40" y="50" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#f8fafc">L1</text>
    
    <g transform="translate(100, 15)">
      <text x="0" y="18" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#60a5fa">CDN / Edge Cache</text>
      <text x="0" y="40" font-family="Segoe UI, sans-serif" font-size="11" fill="#94a3b8">‚Ä¢ Anonymous user recommendations</text>
      <text x="0" y="58" font-family="Segoe UI, sans-serif" font-size="11" fill="#94a3b8">‚Ä¢ Fallback for service failures</text>
    </g>
    
    <rect x="620" y="25" width="160" height="35" rx="8" fill="#3b82f6" opacity="0.2"/>
    <text x="700" y="48" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="12" font-weight="bold" fill="#60a5fa">TTL: 5-15 min</text>
  </g>
  
  <!-- Layer 2 -->
  <g transform="translate(50, 170)" filter="url(#shadowCache)">
    <rect width="800" height="85" rx="14" fill="#1e293b"/>
    <rect width="80" height="85" rx="14 0 0 14" fill="#8b5cf6"/>
    <text x="40" y="50" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#f8fafc">L2</text>
    
    <g transform="translate(100, 15)">
      <text x="0" y="18" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#c4b5fd">Application Cache (Redis)</text>
      <text x="0" y="40" font-family="Segoe UI, sans-serif" font-size="11" fill="#94a3b8">‚Ä¢ Per-user recommendations</text>
      <text x="0" y="58" font-family="Segoe UI, sans-serif" font-size="11" fill="#94a3b8">‚Ä¢ Invalidate on significant user action</text>
    </g>
    
    <rect x="620" y="25" width="160" height="35" rx="8" fill="#8b5cf6" opacity="0.2"/>
    <text x="700" y="48" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="12" font-weight="bold" fill="#c4b5fd">TTL: 5-60 min</text>
  </g>
  
  <!-- Layer 3 -->
  <g transform="translate(50, 270)" filter="url(#shadowCache)">
    <rect width="800" height="85" rx="14" fill="#1e293b"/>
    <rect width="80" height="85" rx="14 0 0 14" fill="#10b981"/>
    <text x="40" y="50" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#f8fafc">L3</text>
    
    <g transform="translate(100, 15)">
      <text x="0" y="18" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#6ee7b7">Feature Cache (Redis)</text>
      <text x="0" y="40" font-family="Segoe UI, sans-serif" font-size="11" fill="#94a3b8">‚Ä¢ User/Item features</text>
      <text x="0" y="58" font-family="Segoe UI, sans-serif" font-size="11" fill="#94a3b8">‚Ä¢ Refresh on feature update</text>
    </g>
    
    <rect x="620" y="25" width="160" height="35" rx="8" fill="#10b981" opacity="0.2"/>
    <text x="700" y="48" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="12" font-weight="bold" fill="#6ee7b7">TTL: 1-24 hr</text>
  </g>
  
  <!-- Layer 4 -->
  <g transform="translate(50, 370)" filter="url(#shadowCache)">
    <rect width="800" height="85" rx="14" fill="#1e293b"/>
    <rect width="80" height="85" rx="14 0 0 14" fill="#f59e0b"/>
    <text x="40" y="50" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#f8fafc">L4</text>
    
    <g transform="translate(100, 15)">
      <text x="0" y="18" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#fcd34d">Embedding Cache (In-memory)</text>
      <text x="0" y="40" font-family="Segoe UI, sans-serif" font-size="11" fill="#94a3b8">‚Ä¢ User/Item embeddings</text>
      <text x="0" y="58" font-family="Segoe UI, sans-serif" font-size="11" fill="#94a3b8">‚Ä¢ Loaded at service startup</text>
    </g>
    
    <rect x="620" y="25" width="160" height="35" rx="8" fill="#f59e0b" opacity="0.2"/>
    <text x="700" y="48" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="12" font-weight="bold" fill="#fcd34d">TTL: Startup</text>
  </g>
</svg>
