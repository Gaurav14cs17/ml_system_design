<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 950 550">
  <defs>
    <linearGradient id="ruleGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#22c55e"/>
      <stop offset="100%" style="stop-color:#3b82f6"/>
    </linearGradient>
    <marker id="arrowGreen" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22c55e"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="950" height="550" fill="#0a0a14"/>
  
  <!-- Title -->
  <text x="475" y="35" text-anchor="middle" fill="#22c55e" font-family="Arial, sans-serif" font-size="22" font-weight="bold">
    ğŸ“‹ Rule Engine Architecture
  </text>
  
  <!-- Input -->
  <rect x="30" y="80" width="150" height="80" rx="10" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="105" y="115" text-anchor="middle" fill="#f8fafc" font-family="Arial, sans-serif" font-size="12" font-weight="bold">ğŸ“¥ Transaction</text>
  <text x="105" y="135" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="10">+ Features</text>
  <text x="105" y="150" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="10">+ ML Score</text>
  
  <!-- Arrow -->
  <path d="M 180 120 L 230 120" stroke="#22c55e" stroke-width="2" fill="none" marker-end="url(#arrowGreen)"/>
  
  <!-- Rule Engine Core -->
  <rect x="240" y="60" width="470" height="130" rx="12" fill="#0f1a2e" stroke="url(#ruleGrad)" stroke-width="3"/>
  <text x="475" y="90" text-anchor="middle" fill="#22c55e" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    âš™ï¸ RULE ENGINE CORE
  </text>
  
  <!-- Rule Categories -->
  <rect x="255" y="105" width="100" height="70" rx="6" fill="#991b1b"/>
  <text x="305" y="130" text-anchor="middle" fill="#f8fafc" font-family="Arial, sans-serif" font-size="10" font-weight="bold">ğŸš« Hard Rules</text>
  <text x="305" y="148" text-anchor="middle" fill="#fca5a5" font-family="Arial, sans-serif" font-size="8">Blocklist</text>
  <text x="305" y="162" text-anchor="middle" fill="#fca5a5" font-family="Arial, sans-serif" font-size="8">Velocity Limits</text>
  
  <rect x="365" y="105" width="100" height="70" rx="6" fill="#854d0e"/>
  <text x="415" y="130" text-anchor="middle" fill="#f8fafc" font-family="Arial, sans-serif" font-size="10" font-weight="bold">âš ï¸ Soft Rules</text>
  <text x="415" y="148" text-anchor="middle" fill="#fde047" font-family="Arial, sans-serif" font-size="8">Anomalies</text>
  <text x="415" y="162" text-anchor="middle" fill="#fde047" font-family="Arial, sans-serif" font-size="8">Risk Thresholds</text>
  
  <rect x="475" y="105" width="100" height="70" rx="6" fill="#14532d"/>
  <text x="525" y="130" text-anchor="middle" fill="#f8fafc" font-family="Arial, sans-serif" font-size="10" font-weight="bold">âœ… Override</text>
  <text x="525" y="148" text-anchor="middle" fill="#86efac" font-family="Arial, sans-serif" font-size="8">Allowlist</text>
  <text x="525" y="162" text-anchor="middle" fill="#86efac" font-family="Arial, sans-serif" font-size="8">VIP Status</text>
  
  <rect x="585" y="105" width="110" height="70" rx="6" fill="#1e3a5f"/>
  <text x="640" y="130" text-anchor="middle" fill="#f8fafc" font-family="Arial, sans-serif" font-size="10" font-weight="bold">ğŸ¯ ML Score</text>
  <text x="640" y="148" text-anchor="middle" fill="#94a3b8" font-family="Arial, sans-serif" font-size="8">Thresholds</text>
  <text x="640" y="162" text-anchor="middle" fill="#94a3b8" font-family="Arial, sans-serif" font-size="8">Adjustments</text>
  
  <!-- Arrow to Decision -->
  <path d="M 710 120 L 760 120" stroke="#22c55e" stroke-width="2" fill="none" marker-end="url(#arrowGreen)"/>
  
  <!-- Decision Output -->
  <rect x="770" y="65" width="150" height="120" rx="10" fill="#0f1a2e" stroke="#e94560" stroke-width="2"/>
  <text x="845" y="92" text-anchor="middle" fill="#e94560" font-family="Arial, sans-serif" font-size="12" font-weight="bold">ğŸ¯ DECISION</text>
  
  <rect x="785" y="105" width="120" height="25" rx="4" fill="#14532d"/>
  <text x="845" y="122" text-anchor="middle" fill="#f8fafc" font-family="Arial, sans-serif" font-size="10">âœ… Approve</text>
  
  <rect x="785" y="135" width="120" height="25" rx="4" fill="#854d0e"/>
  <text x="845" y="152" text-anchor="middle" fill="#f8fafc" font-family="Arial, sans-serif" font-size="10">ğŸ” Review</text>
  
  <rect x="785" y="165" width="120" height="15" rx="3" fill="#991b1b"/>
  <text x="845" y="176" text-anchor="middle" fill="#f8fafc" font-family="Arial, sans-serif" font-size="9">ğŸš« Block</text>
  
  <!-- Rule Examples Section -->
  <rect x="30" y="210" width="890" height="160" rx="10" fill="#0f1a2e" stroke="#3b82f6" stroke-width="2"/>
  <text x="475" y="238" text-anchor="middle" fill="#3b82f6" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    ğŸ“ Rule Examples (DSL)
  </text>
  
  <!-- Hard Rule Example -->
  <rect x="50" y="255" width="270" height="100" rx="6" fill="#1e293b"/>
  <text x="185" y="275" text-anchor="middle" fill="#ef4444" font-family="Arial, sans-serif" font-size="11" font-weight="bold">ğŸš« Hard Rule: Velocity Limit</text>
  <text x="60" y="298" fill="#22c55e" font-family="monospace" font-size="9">RULE "high_velocity_block"</text>
  <text x="60" y="313" fill="#94a3b8" font-family="monospace" font-size="9">WHEN user.txn_count_1h > 10</text>
  <text x="60" y="328" fill="#94a3b8" font-family="monospace" font-size="9">THEN BLOCK reason="velocity"</text>
  <text x="60" y="343" fill="#888" font-family="monospace" font-size="9">PRIORITY: 100</text>
  
  <!-- Soft Rule Example -->
  <rect x="340" y="255" width="270" height="100" rx="6" fill="#1e293b"/>
  <text x="475" y="275" text-anchor="middle" fill="#fbbf24" font-family="Arial, sans-serif" font-size="11" font-weight="bold">âš ï¸ Soft Rule: Anomaly Detection</text>
  <text x="350" y="298" fill="#22c55e" font-family="monospace" font-size="9">RULE "unusual_amount"</text>
  <text x="350" y="313" fill="#94a3b8" font-family="monospace" font-size="9">WHEN amount > user.avg * 5</text>
  <text x="350" y="328" fill="#94a3b8" font-family="monospace" font-size="9">THEN ADD_RISK 0.3</text>
  <text x="350" y="343" fill="#888" font-family="monospace" font-size="9">PRIORITY: 50</text>
  
  <!-- Override Rule Example -->
  <rect x="630" y="255" width="270" height="100" rx="6" fill="#1e293b"/>
  <text x="765" y="275" text-anchor="middle" fill="#22c55e" font-family="Arial, sans-serif" font-size="11" font-weight="bold">âœ… Override: Allowlist</text>
  <text x="640" y="298" fill="#22c55e" font-family="monospace" font-size="9">RULE "vip_allow"</text>
  <text x="640" y="313" fill="#94a3b8" font-family="monospace" font-size="9">WHEN user.vip = true</text>
  <text x="640" y="328" fill="#94a3b8" font-family="monospace" font-size="9">THEN APPROVE bypass_ml=true</text>
  <text x="640" y="343" fill="#888" font-family="monospace" font-size="9">PRIORITY: 200</text>
  
  <!-- Rule Stats Section -->
  <rect x="30" y="390" width="440" height="140" rx="10" fill="#0f1a2e" stroke="#8b5cf6" stroke-width="2"/>
  <text x="250" y="418" text-anchor="middle" fill="#8b5cf6" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    ğŸ“Š Rule Engine Statistics
  </text>
  
  <text x="50" y="450" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">â€¢ Total Rules: 200-500 in production</text>
  <text x="50" y="470" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">â€¢ Evaluation Time: andlt;10ms P99</text>
  <text x="50" y="490" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">â€¢ Hot Reload: Yes (no downtime)</text>
  <text x="50" y="510" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">â€¢ Version Control: All rules tracked</text>
  
  <text x="260" y="450" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">â€¢ Hard Rules: ~50 (instant block)</text>
  <text x="260" y="470" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">â€¢ Soft Rules: ~300 (risk scoring)</text>
  <text x="260" y="490" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">â€¢ Override Rules: ~50 (exceptions)</text>
  <text x="260" y="510" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">â€¢ A/B Test Rules: ~20 (experiments)</text>
  
  <!-- Benefits Section -->
  <rect x="490" y="390" width="430" height="140" rx="10" fill="#0f1a2e" stroke="#22c55e" stroke-width="2"/>
  <text x="705" y="418" text-anchor="middle" fill="#22c55e" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    âœ… Why Rules + ML Together?
  </text>
  
  <text x="510" y="450" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">âœ“ Immediate response to new fraud patterns</text>
  <text x="510" y="470" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">âœ“ Explainable decisions for compliance</text>
  <text x="510" y="490" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">âœ“ Business logic that ML can't learn</text>
  <text x="510" y="510" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">âœ“ Quick overrides without retraining</text>
</svg>

