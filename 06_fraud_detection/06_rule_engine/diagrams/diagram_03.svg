<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 350">
  <defs>
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-opacity="0.3"/>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e94560"/>
    </marker>
  </defs>
  
  <rect width="800" height="350" fill="#0a0a14"/>
  
  <text x="400" y="35" text-anchor="middle" fill="#e94560" font-family="Arial, sans-serif" font-size="22" font-weight="bold">
    ğŸ”„ Rule Evaluation Flow
  </text>
  
  <!-- Flow -->
  <g filter="url(#shadow)">
    <rect x="50" y="65" width="700" height="260" rx="12" fill="#0f1a2e" stroke="#3b82f6" stroke-width="2"/>
    
    <!-- Step 1 -->
    <rect x="80" y="90" width="130" height="60" rx="8" fill="#1e293b"/>
    <text x="145" y="118" text-anchor="middle" fill="#f8fafc" font-family="Arial, sans-serif" font-size="11" font-weight="bold">1ï¸âƒ£ Pre-Rules</text>
    <text x="145" y="138" text-anchor="middle" fill="#ef4444" font-family="Arial, sans-serif" font-size="9">Block lists</text>
    
    <path d="M 210 120 L 240 120" stroke="#e94560" stroke-width="2" marker-end="url(#arrow)"/>
    
    <!-- Step 2 -->
    <rect x="250" y="90" width="130" height="60" rx="8" fill="#1e293b"/>
    <text x="315" y="118" text-anchor="middle" fill="#f8fafc" font-family="Arial, sans-serif" font-size="11" font-weight="bold">2ï¸âƒ£ ML Score</text>
    <text x="315" y="138" text-anchor="middle" fill="#8b5cf6" font-family="Arial, sans-serif" font-size="9">Probability [0,1]</text>
    
    <path d="M 380 120 L 410 120" stroke="#e94560" stroke-width="2" marker-end="url(#arrow)"/>
    
    <!-- Step 3 -->
    <rect x="420" y="90" width="130" height="60" rx="8" fill="#1e293b"/>
    <text x="485" y="118" text-anchor="middle" fill="#f8fafc" font-family="Arial, sans-serif" font-size="11" font-weight="bold">3ï¸âƒ£ Post-Rules</text>
    <text x="485" y="138" text-anchor="middle" fill="#f59e0b" font-family="Arial, sans-serif" font-size="9">Score modifiers</text>
    
    <path d="M 550 120 L 580 120" stroke="#e94560" stroke-width="2" marker-end="url(#arrow)"/>
    
    <!-- Step 4 -->
    <rect x="590" y="90" width="130" height="60" rx="8" fill="#1e293b"/>
    <text x="655" y="118" text-anchor="middle" fill="#f8fafc" font-family="Arial, sans-serif" font-size="11" font-weight="bold">4ï¸âƒ£ Decision</text>
    <text x="655" y="138" text-anchor="middle" fill="#22c55e" font-family="Arial, sans-serif" font-size="9">Final action</text>
    
    <!-- Decision outcomes -->
    <rect x="80" y="175" width="170" height="50" rx="8" fill="#14532d"/>
    <text x="165" y="205" text-anchor="middle" fill="#4ade80" font-family="Arial, sans-serif" font-size="11" font-weight="bold">âœ… APPROVE</text>
    
    <rect x="270" y="175" width="170" height="50" rx="8" fill="#422006"/>
    <text x="355" y="205" text-anchor="middle" fill="#fbbf24" font-family="Arial, sans-serif" font-size="11" font-weight="bold">ğŸ” CHALLENGE (3DS)</text>
    
    <rect x="460" y="175" width="170" height="50" rx="8" fill="#1e3a5f"/>
    <text x="545" y="205" text-anchor="middle" fill="#60a5fa" font-family="Arial, sans-serif" font-size="11" font-weight="bold">ğŸ‘ï¸ REVIEW</text>
    
    <rect x="265" y="240" width="170" height="50" rx="8" fill="#450a0a"/>
    <text x="350" y="270" text-anchor="middle" fill="#fca5a5" font-family="Arial, sans-serif" font-size="11" font-weight="bold">ğŸš« DECLINE</text>
    
    <!-- Percentages -->
    <text x="165" y="290" text-anchor="middle" fill="#64748b" font-family="Arial, sans-serif" font-size="9">~94% of txns</text>
    <text x="355" y="310" text-anchor="middle" fill="#64748b" font-family="Arial, sans-serif" font-size="9">~1% of txns</text>
    <text x="545" y="290" text-anchor="middle" fill="#64748b" font-family="Arial, sans-serif" font-size="9">~4% of txns</text>
    <text x="545" y="310" text-anchor="middle" fill="#64748b" font-family="Arial, sans-serif" font-size="9">~1% decline</text>
  </g>
</svg>
