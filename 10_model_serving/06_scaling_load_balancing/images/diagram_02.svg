<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 450">
  <defs>
    <linearGradient id="metricGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1"/>
      <stop offset="100%" style="stop-color:#4f46e5"/>
    </linearGradient>
    <linearGradient id="hpaGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <linearGradient id="podGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#2563eb"/>
    </linearGradient>
    <filter id="shadow" x="-5%" y="-5%" width="110%" height="115%">
      <feDropShadow dx="0" dy="3" stdDeviation="4" flood-opacity="0.15"/>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 L3,5 Z" fill="#64748b"/>
    </marker>
  </defs>
  
  <rect width="100%" height="100%" fill="#0f172a"/>
  
  <!-- Title -->
  <text x="425" y="35" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="22" font-weight="bold" fill="#f8fafc">‚ö° Metric-Based Autoscaling</text>
  
  <!-- Metrics Source -->
  <g filter="url(#shadow)">
    <rect x="50" y="70" width="200" height="150" rx="14" fill="#1e293b"/>
    <rect x="50" y="70" width="200" height="45" rx="14 14 0 0" fill="url(#metricGrad)"/>
    <text x="150" y="100" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#f8fafc">üìä Metrics</text>
    
    <text x="70" y="140" font-family="Segoe UI, sans-serif" font-size="11" fill="#94a3b8">‚Ä¢ CPU Usage: 75%</text>
    <text x="70" y="160" font-family="Segoe UI, sans-serif" font-size="11" fill="#94a3b8">‚Ä¢ Memory: 60%</text>
    <text x="70" y="180" font-family="Segoe UI, sans-serif" font-size="11" fill="#94a3b8">‚Ä¢ RPS: 850/1000</text>
    <text x="70" y="200" font-family="Segoe UI, sans-serif" font-size="11" fill="#94a3b8">‚Ä¢ Latency P99: 95ms</text>
  </g>
  
  <!-- Arrow to HPA -->
  <path d="M255 145 L320 145" stroke="#64748b" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="287" y="135" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#64748b">Monitor</text>
  
  <!-- HPA Controller -->
  <g filter="url(#shadow)">
    <rect x="330" y="60" width="220" height="170" rx="14" fill="#1e293b"/>
    <rect x="330" y="60" width="220" height="45" rx="14 14 0 0" fill="url(#hpaGrad)"/>
    <text x="440" y="90" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#f8fafc">‚öôÔ∏è HPA Controller</text>
    
    <rect x="350" y="115" width="180" height="45" rx="8" fill="#064e3b"/>
    <text x="440" y="135" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#a7f3d0">Desired Replicas =</text>
    <text x="440" y="152" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#6ee7b7">ceil(current √ó (metric/target))</text>
    
    <text x="440" y="185" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#94a3b8">Target CPU: 70%</text>
    <text x="440" y="200" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#94a3b8">Current: 3 ‚Üí Desired: 4</text>
    <text x="440" y="218" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#6ee7b7" font-weight="bold">‚Üë SCALE UP</text>
  </g>
  
  <!-- Arrow to Pods -->
  <path d="M555 145 L620 145" stroke="#64748b" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="587" y="135" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#64748b">Scale</text>
  
  <!-- Pods -->
  <g filter="url(#shadow)">
    <rect x="630" y="60" width="180" height="170" rx="14" fill="#1e293b"/>
    <rect x="630" y="60" width="180" height="45" rx="14 14 0 0" fill="url(#podGrad)"/>
    <text x="720" y="90" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#f8fafc">üñ•Ô∏è Pods</text>
    
    <g transform="translate(655, 115)">
      <rect x="0" y="0" width="50" height="35" rx="6" fill="#3b82f6" stroke="#60a5fa"/>
      <text x="25" y="22" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#fff">Pod 1</text>
      
      <rect x="60" y="0" width="50" height="35" rx="6" fill="#3b82f6" stroke="#60a5fa"/>
      <text x="85" y="22" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#fff">Pod 2</text>
      
      <rect x="0" y="45" width="50" height="35" rx="6" fill="#3b82f6" stroke="#60a5fa"/>
      <text x="25" y="67" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#fff">Pod 3</text>
      
      <rect x="60" y="45" width="50" height="35" rx="6" fill="#10b981" stroke="#34d399" stroke-width="2" stroke-dasharray="4,2"/>
      <text x="85" y="62" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#fff">Pod 4</text>
      <text x="85" y="75" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="8" fill="#a7f3d0">NEW</text>
    </g>
  </g>
  
  <!-- Feedback loop -->
  <path d="M720 235 L720 280 L150 280 L150 225" stroke="#64748b" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="145,225 150,210 155,225" fill="#64748b"/>
  <text x="435" y="300" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#64748b">üîÑ Feedback Loop (30s interval)</text>
  
  <!-- Scale triggers -->
  <g filter="url(#shadow)">
    <rect x="150" y="330" width="550" height="100" rx="12" fill="#1e293b"/>
    <text x="425" y="355" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="13" font-weight="bold" fill="#f8fafc">üìà Scaling Triggers</text>
    
    <g transform="translate(180, 370)">
      <rect x="0" y="0" width="150" height="45" rx="8" fill="#064e3b"/>
      <text x="75" y="18" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" font-weight="bold" fill="#6ee7b7">Scale Up ‚Üë</text>
      <text x="75" y="35" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#a7f3d0">CPU > 70% for 30s</text>
    </g>
    
    <g transform="translate(350, 370)">
      <rect x="0" y="0" width="150" height="45" rx="8" fill="#450a0a"/>
      <text x="75" y="18" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" font-weight="bold" fill="#fca5a5">Scale Down ‚Üì</text>
      <text x="75" y="35" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#fecaca">CPU less than 50% for 5m</text>
    </g>
    
    <g transform="translate(520, 370)">
      <rect x="0" y="0" width="150" height="45" rx="8" fill="#1e3a5f"/>
      <text x="75" y="18" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" font-weight="bold" fill="#60a5fa">Custom Metrics</text>
      <text x="75" y="35" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#93c5fd">Queue depth, RPS</text>
    </g>
  </g>
</svg>
