<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 600">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#60a5fa"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="850" height="600" fill="#0f172a" rx="12"/>
  
  <!-- Title -->
  <text x="425" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#f8fafc">FASTER R-CNN ARCHITECTURE</text>
  <text x="425" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#94a3b8">End-to-End Trainable Object Detection</text>
  
  <!-- Main Pipeline -->
  <!-- Input Image -->
  <g transform="translate(340, 75)">
    <rect width="170" height="50" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="2"/>
    <text x="85" y="22" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#60a5fa">Input Image</text>
    <text x="85" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#93c5fd">(H × W × 3)</text>
  </g>
  
  <line x1="425" y1="130" x2="425" y2="150" stroke="#60a5fa" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Backbone CNN -->
  <g transform="translate(300, 155)">
    <rect width="250" height="60" rx="8" fill="#4c1d95" stroke="#8b5cf6" stroke-width="2"/>
    <text x="125" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e9d5ff">Backbone CNN</text>
    <text x="125" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#c4b5fd">(ResNet, VGG, FPN)</text>
  </g>
  
  <line x1="425" y1="220" x2="425" y2="240" stroke="#60a5fa" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Feature Map -->
  <g transform="translate(330, 245)">
    <rect width="190" height="45" rx="8" fill="#1e293b" stroke="#f59e0b" stroke-width="2"/>
    <text x="95" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#fbbf24">Feature Map</text>
    <text x="95" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fcd34d">(H/16 × W/16 × C)</text>
  </g>
  
  <!-- Branch to RPN and RoI Pooling -->
  <line x1="425" y1="295" x2="425" y2="310" stroke="#60a5fa" stroke-width="2"/>
  <line x1="425" y1="310" x2="280" y2="310" stroke="#60a5fa" stroke-width="2"/>
  <line x1="425" y1="310" x2="570" y2="310" stroke="#60a5fa" stroke-width="2"/>
  <line x1="280" y1="310" x2="280" y2="330" stroke="#60a5fa" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="570" y1="310" x2="570" y2="390" stroke="#60a5fa" stroke-width="2" stroke-dasharray="4"/>
  
  <!-- RPN -->
  <g transform="translate(180, 335)">
    <rect width="200" height="80" rx="8" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
    <text x="100" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4ade80">RPN</text>
    <text x="100" y="42" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6ee7b7">Region Proposal Network</text>
    <text x="100" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#86efac">Objectness + BBox deltas</text>
    <text x="100" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">~300 proposals</text>
  </g>
  
  <line x1="280" y1="420" x2="280" y2="435" stroke="#60a5fa" stroke-width="2"/>
  <line x1="280" y1="435" x2="425" y2="435" stroke="#60a5fa" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- RoI Pooling -->
  <g transform="translate(430, 395)">
    <rect width="180" height="60" rx="8" fill="#1e293b" stroke="#f59e0b" stroke-width="2"/>
    <text x="90" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#fbbf24">RoI Pooling/Align</text>
    <text x="90" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fcd34d">Fixed-size features</text>
  </g>
  
  <line x1="520" y1="460" x2="520" y2="480" stroke="#60a5fa" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Classification + BBox Regression -->
  <g transform="translate(390, 485)">
    <rect width="260" height="60" rx="8" fill="#1e293b" stroke="#ec4899" stroke-width="2"/>
    <text x="130" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#f472b6">Classification + BBox Regression</text>
    <text x="130" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#f9a8d4">FC layers → Class scores + Refined boxes</text>
  </g>
  
  <!-- Anchor Boxes Section -->
  <g transform="translate(30, 320)">
    <rect width="130" height="180" rx="10" fill="#1e293b" stroke="#06b6d4" stroke-width="2"/>
    <text x="65" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#22d3ee">ANCHORS</text>
    
    <!-- 3 scales visualization -->
    <g transform="translate(20, 40)">
      <rect x="0" y="30" width="20" height="20" fill="none" stroke="#67e8f9" stroke-width="2"/>
      <rect x="30" y="20" width="30" height="30" fill="none" stroke="#67e8f9" stroke-width="2"/>
      <rect x="70" y="10" width="40" height="40" fill="none" stroke="#67e8f9" stroke-width="2"/>
    </g>
    
    <text x="65" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#67e8f9">3 scales × 3 ratios</text>
    <text x="65" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#67e8f9">= 9 anchors/location</text>
    
    <text x="65" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#94a3b8">Scales: 128², 256², 512²</text>
    <text x="65" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#94a3b8">Ratios: 1:1, 1:2, 2:1</text>
  </g>
  
  <!-- Output annotation -->
  <text x="520" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#f8fafc">Final Detections: (boxes, classes, confidence scores)</text>
</svg>
