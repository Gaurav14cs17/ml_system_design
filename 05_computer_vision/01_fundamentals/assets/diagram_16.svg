<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 320">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#fbbf24"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="700" height="320" fill="#0f172a" rx="12"/>
  
  <!-- Title -->
  <text x="350" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#f8fafc">Histogram Equalization</text>
  <text x="350" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#94a3b8">Contrast Enhancement Technique</text>
  
  <!-- Before Histogram -->
  <g transform="translate(50, 80)">
    <text x="100" y="0" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#ef4444">BEFORE</text>
    <text x="100" y="18" text-anchor="middle" font-family="Arial" font-size="11" fill="#94a3b8">(Low Contrast)</text>
    
    <!-- Histogram box -->
    <rect x="0" y="30" width="200" height="120" rx="8" fill="#1e293b" stroke="#334155" stroke-width="2"/>
    
    <!-- Clustered histogram bars -->
    <g fill="#ef4444" opacity="0.8">
      <rect x="70" y="50" width="12" height="90"/>
      <rect x="85" y="55" width="12" height="85"/>
      <rect x="100" y="45" width="12" height="95"/>
      <rect x="115" y="50" width="12" height="90"/>
      <rect x="130" y="60" width="12" height="80"/>
    </g>
    
    <!-- Axes -->
    <line x1="20" y1="140" x2="185" y2="140" stroke="#64748b" stroke-width="1"/>
    <text x="100" y="155" text-anchor="middle" font-family="Arial" font-size="10" fill="#64748b">Intensity (clustered)</text>
  </g>
  
  <!-- Arrow -->
  <g transform="translate(270, 155)">
    <line x1="0" y1="0" x2="80" y2="0" stroke="#fbbf24" stroke-width="3" marker-end="url(#arrowhead)"/>
    <text x="40" y="-10" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#fbbf24">Equalize</text>
  </g>
  
  <!-- After Histogram -->
  <g transform="translate(370, 80)">
    <text x="140" y="0" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#22c55e">AFTER</text>
    <text x="140" y="18" text-anchor="middle" font-family="Arial" font-size="11" fill="#94a3b8">(High Contrast)</text>
    
    <!-- Histogram box -->
    <rect x="0" y="30" width="280" height="120" rx="8" fill="#1e293b" stroke="#334155" stroke-width="2"/>
    
    <!-- Spread out histogram bars -->
    <g fill="#22c55e" opacity="0.8">
      <rect x="20" y="80" width="18" height="55"/>
      <rect x="50" y="75" width="18" height="60"/>
      <rect x="80" y="70" width="18" height="65"/>
      <rect x="110" y="65" width="18" height="70"/>
      <rect x="140" y="68" width="18" height="67"/>
      <rect x="170" y="72" width="18" height="63"/>
      <rect x="200" y="76" width="18" height="59"/>
      <rect x="230" y="82" width="18" height="53"/>
    </g>
    
    <!-- Axes -->
    <line x1="15" y1="140" x2="260" y2="140" stroke="#64748b" stroke-width="1"/>
    <text x="140" y="155" text-anchor="middle" font-family="Arial" font-size="10" fill="#64748b">Intensity (spread out)</text>
  </g>
  
  <!-- Formula Box -->
  <g transform="translate(100, 230)">
    <rect x="0" y="0" width="500" height="70" rx="10" fill="#1e293b" stroke="#8b5cf6" stroke-width="2"/>
    <text x="250" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#c4b5fd">Equalization Formula</text>
    <text x="250" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#fbbf24">h(v) = round( (cdf(v) − cdf_min) / (M × N − cdf_min) × (L − 1) )</text>
  </g>
</svg>
