<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <!-- Background -->
  <rect width="800" height="400" fill="#0f172a" rx="12"/>
  
  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#f8fafc">BILATERAL FILTER CONCEPT</text>
  <text x="400" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#94a3b8">Edge-Preserving Smoothing</text>
  
  <!-- Gaussian Filter Section -->
  <g transform="translate(50, 80)">
    <rect width="320" height="240" rx="12" fill="#1e293b" stroke="#ef4444" stroke-width="2"/>
    <text x="160" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#f87171">Gaussian Filter</text>
    <text x="160" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#fca5a5">(Spatial Only)</text>
    
    <!-- Before/After boxes -->
    <g transform="translate(30, 70)">
      <text x="55" y="-5" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8">Before</text>
      <!-- Sharp edge visualization -->
      <rect width="50" height="100" fill="#475569"/>
      <rect x="50" width="60" height="100" fill="#1e293b"/>
      <line x1="50" y1="0" x2="50" y2="100" stroke="#22c55e" stroke-width="3"/>
    </g>
    
    <!-- Arrow -->
    <path d="M 165 120 L 195 120" stroke="#fbbf24" stroke-width="2"/>
    <polygon points="195,115 210,120 195,125" fill="#fbbf24"/>
    
    <g transform="translate(220, 70)">
      <text x="55" y="-5" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8">After</text>
      <!-- Blurred edge visualization -->
      <rect width="35" height="100" fill="#475569"/>
      <rect x="35" width="30" height="100" fill="#3d4f5f"/>
      <rect x="65" width="45" height="100" fill="#1e293b"/>
      <line x1="35" y1="0" x2="65" y2="100" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,3"/>
    </g>
    
    <rect x="60" y="185" width="200" height="35" rx="6" fill="#7f1d1d" stroke="#ef4444" stroke-width="1"/>
    <text x="160" y="207" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#fca5a5">❌ Edge is BLURRED</text>
  </g>
  
  <!-- Bilateral Filter Section -->
  <g transform="translate(430, 80)">
    <rect width="320" height="240" rx="12" fill="#1e293b" stroke="#22c55e" stroke-width="2"/>
    <text x="160" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#4ade80">Bilateral Filter</text>
    <text x="160" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#86efac">(Spatial + Range)</text>
    
    <!-- Before/After boxes -->
    <g transform="translate(30, 70)">
      <text x="55" y="-5" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8">Before</text>
      <!-- Sharp edge visualization -->
      <rect width="50" height="100" fill="#475569"/>
      <rect x="50" width="60" height="100" fill="#1e293b"/>
      <line x1="50" y1="0" x2="50" y2="100" stroke="#22c55e" stroke-width="3"/>
    </g>
    
    <!-- Arrow -->
    <path d="M 165 120 L 195 120" stroke="#fbbf24" stroke-width="2"/>
    <polygon points="195,115 210,120 195,125" fill="#fbbf24"/>
    
    <g transform="translate(220, 70)">
      <text x="55" y="-5" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8">After</text>
      <!-- Preserved edge visualization -->
      <rect width="50" height="100" fill="#475569"/>
      <rect x="50" width="60" height="100" fill="#1e293b"/>
      <line x1="50" y1="0" x2="50" y2="100" stroke="#22c55e" stroke-width="3"/>
    </g>
    
    <rect x="60" y="185" width="200" height="35" rx="6" fill="#14532d" stroke="#22c55e" stroke-width="1"/>
    <text x="160" y="207" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#86efac">✓ Edge is PRESERVED</text>
  </g>
  
  <!-- Formula -->
  <g transform="translate(150, 340)">
    <rect width="500" height="45" rx="8" fill="#334155" stroke="#8b5cf6" stroke-width="2"/>
    <text x="250" y="18" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#c4b5fd">Weight Formula:</text>
    <text x="250" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#f8fafc">Weight = Spatial_Weight (distance) × Intensity_Weight (similarity)</text>
  </g>
</svg>
