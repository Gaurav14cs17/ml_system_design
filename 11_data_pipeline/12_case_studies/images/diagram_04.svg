<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 480">
  <defs>
    <linearGradient id="doorGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF3008"/>
      <stop offset="100%" style="stop-color:#E02B06"/>
    </linearGradient>
    <linearGradient id="streamGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#EC4899"/>
      <stop offset="100%" style="stop-color:#DB2777"/>
    </linearGradient>
    <linearGradient id="batchDGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6"/>
      <stop offset="100%" style="stop-color:#1D4ED8"/>
    </linearGradient>
    <linearGradient id="feastGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8B5CF6"/>
      <stop offset="100%" style="stop-color:#6D28D9"/>
    </linearGradient>
    <filter id="doorShadow" x="-5%" y="-5%" width="110%" height="115%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.2"/>
    </filter>
    <marker id="doorArrow" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#64748B"/>
    </marker>
  </defs>
  
  <rect width="850" height="480" fill="#0F172A"/>
  
  <!-- Container -->
  <rect x="30" y="20" width="790" height="440" rx="12" fill="#1E293B" stroke="url(#doorGrad)" stroke-width="2"/>
  <rect x="30" y="20" width="790" height="45" rx="12 12 0 0" fill="url(#doorGrad)"/>
  <text x="425" y="50" text-anchor="middle" font-family="system-ui" font-size="18" font-weight="bold" fill="#F8FAFC">ğŸ” DoorDash Delivery Prediction Pipeline</text>
  
  <!-- Data Sources Row -->
  <g filter="url(#doorShadow)" transform="translate(60, 80)">
    <rect x="0" y="0" width="160" height="55" rx="6" fill="#334155"/>
    <text x="80" y="25" text-anchor="middle" font-family="system-ui" font-size="12">ğŸ“¦</text>
    <text x="80" y="45" text-anchor="middle" font-family="system-ui" font-size="10" fill="#F8FAFC">Orders Events</text>
  </g>
  
  <g filter="url(#doorShadow)" transform="translate(240, 80)">
    <rect x="0" y="0" width="160" height="55" rx="6" fill="#334155"/>
    <text x="80" y="25" text-anchor="middle" font-family="system-ui" font-size="12">ğŸª</text>
    <text x="80" y="45" text-anchor="middle" font-family="system-ui" font-size="10" fill="#F8FAFC">Restaurant Status</text>
  </g>
  
  <g filter="url(#doorShadow)" transform="translate(420, 80)">
    <rect x="0" y="0" width="160" height="55" rx="6" fill="#334155"/>
    <text x="80" y="25" text-anchor="middle" font-family="system-ui" font-size="12">ğŸš´</text>
    <text x="80" y="45" text-anchor="middle" font-family="system-ui" font-size="10" fill="#F8FAFC">Dasher Location</text>
  </g>
  
  <g filter="url(#doorShadow)" transform="translate(600, 80)">
    <rect x="0" y="0" width="160" height="55" rx="6" fill="#334155"/>
    <text x="80" y="25" text-anchor="middle" font-family="system-ui" font-size="12">ğŸš¦</text>
    <text x="80" y="45" text-anchor="middle" font-family="system-ui" font-size="10" fill="#F8FAFC">Traffic Data</text>
  </g>
  
  <!-- Arrows down to Kafka -->
  <path d="M140 140 L140 160 L410 160 L410 175" stroke="#64748B" stroke-width="2"/>
  <path d="M320 140 L320 175" stroke="#64748B" stroke-width="2"/>
  <path d="M500 140 L500 175" stroke="#64748B" stroke-width="2"/>
  <path d="M680 140 L680 160 L410 160 L410 175" stroke="#64748B" stroke-width="2" marker-end="url(#doorArrow)"/>
  
  <!-- Kafka -->
  <g filter="url(#doorShadow)" transform="translate(290, 180)">
    <rect x="0" y="0" width="240" height="45" rx="6" fill="#F59E0B"/>
    <text x="120" y="28" text-anchor="middle" font-family="system-ui" font-size="11" font-weight="bold" fill="#0F172A">ğŸ“¨ Kafka Topics</text>
  </g>
  
  <!-- Split to Stream/Batch -->
  <path d="M330 230 L220 265" stroke="#64748B" stroke-width="2" marker-end="url(#doorArrow)"/>
  <path d="M490 230 L600 265" stroke="#64748B" stroke-width="2" marker-end="url(#doorArrow)"/>
  
  <!-- Stream Features -->
  <g filter="url(#doorShadow)" transform="translate(60, 270)">
    <rect x="0" y="0" width="320" height="90" rx="8" fill="url(#streamGrad)"/>
    <text x="160" y="22" text-anchor="middle" font-family="system-ui" font-size="12" font-weight="bold" fill="#F8FAFC">ğŸŒŠ STREAM FEATURES (Flink)</text>
    <text x="160" y="45" text-anchor="middle" font-family="system-ui" font-size="9" fill="rgba(255,255,255,0.9)">â€¢ Real-time queue length</text>
    <text x="160" y="62" text-anchor="middle" font-family="system-ui" font-size="9" fill="rgba(255,255,255,0.9)">â€¢ Dasher velocity</text>
    <text x="160" y="79" text-anchor="middle" font-family="system-ui" font-size="9" fill="rgba(255,255,255,0.9)">â€¢ Current active orders</text>
  </g>
  
  <!-- Batch Features -->
  <g filter="url(#doorShadow)" transform="translate(440, 270)">
    <rect x="0" y="0" width="320" height="90" rx="8" fill="url(#batchDGrad)"/>
    <text x="160" y="22" text-anchor="middle" font-family="system-ui" font-size="12" font-weight="bold" fill="#F8FAFC">ğŸ“¦ BATCH FEATURES (Spark)</text>
    <text x="160" y="45" text-anchor="middle" font-family="system-ui" font-size="9" fill="rgba(255,255,255,0.9)">â€¢ Historical ETA accuracy</text>
    <text x="160" y="62" text-anchor="middle" font-family="system-ui" font-size="9" fill="rgba(255,255,255,0.9)">â€¢ Restaurant average prep time</text>
    <text x="160" y="79" text-anchor="middle" font-family="system-ui" font-size="9" fill="rgba(255,255,255,0.9)">â€¢ Zone traffic patterns</text>
  </g>
  
  <!-- Arrows to Feature Store -->
  <path d="M220 365 L300 395" stroke="#64748B" stroke-width="2" marker-end="url(#doorArrow)"/>
  <path d="M600 365 L520 395" stroke="#64748B" stroke-width="2" marker-end="url(#doorArrow)"/>
  
  <!-- Feature Store -->
  <g filter="url(#doorShadow)" transform="translate(240, 400)">
    <rect x="0" y="0" width="340" height="50" rx="8" fill="url(#feastGrad)"/>
    <text x="170" y="22" text-anchor="middle" font-family="system-ui" font-size="12" font-weight="bold" fill="#F8FAFC">ğŸª FEATURE STORE (Feast-based)</text>
    <text x="170" y="40" text-anchor="middle" font-family="system-ui" font-size="9" fill="rgba(255,255,255,0.8)">Unified online/offline serving</text>
  </g>
  
  <!-- Prediction Service -->
  <g transform="translate(630, 390)">
    <rect x="0" y="0" width="150" height="55" rx="6" fill="#10B981"/>
    <text x="75" y="22" text-anchor="middle" font-family="system-ui" font-size="10" font-weight="bold" fill="#F8FAFC">ğŸ¯ Prediction</text>
    <text x="75" y="38" text-anchor="middle" font-family="system-ui" font-size="9" fill="rgba(255,255,255,0.8)">ETA Service</text>
    <text x="75" y="52" text-anchor="middle" font-family="system-ui" font-size="8" fill="rgba(255,255,255,0.6)">p95 andlt;50ms</text>
  </g>
  
  <path d="M585 425 L625 425" stroke="#64748B" stroke-width="2" marker-end="url(#doorArrow)"/>
</svg>
