<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
  <defs>
    <linearGradient id="batchGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2193b0"/>
      <stop offset="100%" style="stop-color:#6dd5ed"/>
    </linearGradient>
    <linearGradient id="speedGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ff416c"/>
      <stop offset="100%" style="stop-color:#ff4b2b"/>
    </linearGradient>
    <linearGradient id="serveGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#834d9b"/>
      <stop offset="100%" style="stop-color:#d04ed6"/>
    </linearGradient>
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <rect width="800" height="500" fill="#0d1117" rx="10"/>
  
  <text x="400" y="35" text-anchor="middle" fill="#f8fafc" font-size="20" font-weight="bold">Lambda Architecture</text>
  
  <!-- Events Source -->
  <g transform="translate(325, 60)">
    <rect x="0" y="0" width="150" height="50" rx="10" fill="rgba(247,151,30,0.8)" filter="url(#shadow)"/>
    <text x="75" y="22" text-anchor="middle" fill="#f8fafc" font-size="11" font-weight="bold">üì± Events</text>
    <text x="75" y="40" text-anchor="middle" fill="#f8fafc" font-size="9">Clicks, Views</text>
  </g>
  
  <!-- Arrows splitting -->
  <path d="M 400 115 L 400 140 L 200 180" stroke="#f7971e" stroke-width="2" fill="none" marker-end="url(#arrow3)"/>
  <path d="M 400 115 L 400 140 L 600 180" stroke="#f7971e" stroke-width="2" fill="none" marker-end="url(#arrow3)"/>
  
  <!-- Batch Layer -->
  <g transform="translate(50, 180)">
    <rect x="0" y="0" width="300" height="170" rx="15" fill="url(#batchGrad2)" filter="url(#shadow)"/>
    <text x="150" y="25" text-anchor="middle" fill="#f8fafc" font-size="14" font-weight="bold">BATCH LAYER</text>
    <text x="150" y="42" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="10">Historical Processing (Hours)</text>
    
    <g transform="translate(20, 55)">
      <rect x="0" y="0" width="125" height="50" rx="8" fill="rgba(255,255,255,0.2)"/>
      <text x="62" y="22" text-anchor="middle" fill="#f8fafc" font-size="9" font-weight="bold">üíæ Data Lake</text>
      <text x="62" y="40" text-anchor="middle" fill="#f8fafc" font-size="8">S3/HDFS</text>
    </g>
    
    <g transform="translate(155, 55)">
      <rect x="0" y="0" width="125" height="50" rx="8" fill="rgba(255,255,255,0.2)"/>
      <text x="62" y="22" text-anchor="middle" fill="#f8fafc" font-size="9" font-weight="bold">‚öôÔ∏è Spark Job</text>
      <text x="62" y="40" text-anchor="middle" fill="#f8fafc" font-size="8">Daily Training</text>
    </g>
    
    <g transform="translate(20, 115)">
      <rect x="0" y="0" width="260" height="40" rx="8" fill="rgba(255,255,255,0.15)"/>
      <text x="130" y="25" text-anchor="middle" fill="#f8fafc" font-size="9">‚è±Ô∏è Latency: Hours | Full Retrain</text>
    </g>
  </g>
  
  <!-- Speed Layer -->
  <g transform="translate(450, 180)">
    <rect x="0" y="0" width="300" height="170" rx="15" fill="url(#speedGrad2)" filter="url(#shadow)"/>
    <text x="150" y="25" text-anchor="middle" fill="#f8fafc" font-size="14" font-weight="bold">SPEED LAYER</text>
    <text x="150" y="42" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="10">Real-Time Processing (Seconds)</text>
    
    <g transform="translate(20, 55)">
      <rect x="0" y="0" width="125" height="50" rx="8" fill="rgba(255,255,255,0.2)"/>
      <text x="62" y="22" text-anchor="middle" fill="#f8fafc" font-size="9" font-weight="bold">üì® Kafka</text>
      <text x="62" y="40" text-anchor="middle" fill="#f8fafc" font-size="8">Event Stream</text>
    </g>
    
    <g transform="translate(155, 55)">
      <rect x="0" y="0" width="125" height="50" rx="8" fill="rgba(255,255,255,0.2)"/>
      <text x="62" y="22" text-anchor="middle" fill="#f8fafc" font-size="9" font-weight="bold">‚ö° Flink</text>
      <text x="62" y="40" text-anchor="middle" fill="#f8fafc" font-size="8">Stream Process</text>
    </g>
    
    <g transform="translate(20, 115)">
      <rect x="0" y="0" width="260" height="40" rx="8" fill="rgba(255,255,255,0.15)"/>
      <text x="130" y="25" text-anchor="middle" fill="#f8fafc" font-size="9">‚ö° Latency: Seconds | Incremental</text>
    </g>
  </g>
  
  <!-- Arrows down -->
  <path d="M 200 360 L 200 380 L 350 410" stroke="#6dd5ed" stroke-width="2" fill="none" marker-end="url(#arrow3)"/>
  <path d="M 600 360 L 600 380 L 450 410" stroke="#ff4b2b" stroke-width="2" fill="none" marker-end="url(#arrow3)"/>
  
  <!-- Serving Layer -->
  <g transform="translate(200, 410)">
    <rect x="0" y="0" width="400" height="70" rx="15" fill="url(#serveGrad2)" filter="url(#shadow)"/>
    <text x="200" y="25" text-anchor="middle" fill="#f8fafc" font-size="14" font-weight="bold">SERVING LAYER</text>
    <text x="200" y="48" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="10">Merge &amp; Serve (andlt;100ms) | Batch + Real-time = Final Recs</text>
  </g>
  
  <defs>
    <marker id="arrow3" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f8fafc"/>
    </marker>
  </defs>
</svg>
