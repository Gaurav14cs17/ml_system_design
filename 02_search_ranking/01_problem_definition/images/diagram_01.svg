<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 450">
  <defs>
    <linearGradient id="queryGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#2563eb"/>
    </linearGradient>
    <linearGradient id="retrievalGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6"/>
      <stop offset="100%" style="stop-color:#7c3aed"/>
    </linearGradient>
    <linearGradient id="rankingGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#d97706"/>
    </linearGradient>
    <linearGradient id="resultsGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <filter id="shadow" x="-5%" y="-5%" width="110%" height="115%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-opacity="0.12"/>
    </filter>
  </defs>
  
  <rect width="100%" height="100%" fill="#0f172a"/>
  
  <text x="350" y="35" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="22" font-weight="bold" fill="#f8fafc">üîç Search Ranking Pipeline</text>
  
  <!-- User Query -->
  <g filter="url(#shadow)">
    <rect x="200" y="55" width="300" height="50" rx="25" fill="url(#queryGrad)"/>
    <text x="350" y="88" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#f8fafc">üîé USER QUERY</text>
  </g>
  
  <!-- Arrow -->
  <path d="M350 110 L350 140" stroke="#64748b" stroke-width="3"/>
  <polygon points="345,140 350,155 355,140" fill="#64748b"/>
  
  <!-- Stage 1: Retrieval -->
  <g filter="url(#shadow)">
    <rect x="75" y="160" width="550" height="100" rx="12" fill="#0f172a"/>
    <rect x="75" y="160" width="550" height="40" rx="12 12 0 0" fill="url(#retrievalGrad)"/>
    <circle cx="110" cy="180" r="15" fill="rgba(255,255,255,0.3)"/>
    <text x="110" y="185" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#f8fafc">1</text>
    <text x="350" y="187" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="15" font-weight="bold" fill="#f8fafc">STAGE 1: RETRIEVAL</text>
    
    <text x="100" y="225" font-family="Segoe UI, sans-serif" font-size="11" fill="#64748b">‚Ä¢ Fast, approximate matching</text>
    <text x="100" y="243" font-family="Segoe UI, sans-serif" font-size="11" fill="#64748b">‚Ä¢ Reduce billions ‚Üí thousands</text>
    <text x="380" y="225" font-family="Segoe UI, sans-serif" font-size="11" fill="#64748b">Methods: BM25, TF-IDF, ANN</text>
  </g>
  
  <!-- Arrow -->
  <path d="M350 265 L350 295" stroke="#64748b" stroke-width="3"/>
  <polygon points="345,295 350,310 355,295" fill="#64748b"/>
  
  <!-- Stage 2: Ranking -->
  <g filter="url(#shadow)">
    <rect x="75" y="315" width="550" height="100" rx="12" fill="#0f172a"/>
    <rect x="75" y="315" width="550" height="40" rx="12 12 0 0" fill="url(#rankingGrad)"/>
    <circle cx="110" cy="335" r="15" fill="rgba(255,255,255,0.3)"/>
    <text x="110" y="340" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#f8fafc">2</text>
    <text x="350" y="342" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="15" font-weight="bold" fill="#f8fafc">STAGE 2: RANKING</text>
    
    <text x="100" y="380" font-family="Segoe UI, sans-serif" font-size="11" fill="#64748b">‚Ä¢ Precise, ML-based scoring</text>
    <text x="100" y="398" font-family="Segoe UI, sans-serif" font-size="11" fill="#64748b">‚Ä¢ Rank thousands ‚Üí top 10-100</text>
    <text x="380" y="380" font-family="Segoe UI, sans-serif" font-size="11" fill="#64748b">Methods: LTR, Neural Rankers, BERT</text>
  </g>
  
  <!-- Arrow -->
  <path d="M350 420 L350 445" stroke="#64748b" stroke-width="3"/>
  <polygon points="345,445 350,460 355,445" fill="#64748b"/>
  
  <!-- Results -->
  <g filter="url(#shadow)">
    <rect x="200" y="465" width="300" height="45" rx="22" fill="url(#resultsGrad)"/>
    <text x="350" y="495" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="15" font-weight="bold" fill="#f8fafc">üìã RANKED RESULTS</text>
  </g>
</svg>
