<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 420">
  <defs>
    <linearGradient id="dataGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#2563eb"/>
    </linearGradient>
    <linearGradient id="labelGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <linearGradient id="trainGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6"/>
      <stop offset="100%" style="stop-color:#7c3aed"/>
    </linearGradient>
    <linearGradient id="evalGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#d97706"/>
    </linearGradient>
    <filter id="shadow" x="-5%" y="-5%" width="110%" height="115%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-opacity="0.12"/>
    </filter>
  </defs>
  
  <rect width="100%" height="100%" fill="#0f172a"/>
  
  <text x="375" y="35" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="22" font-weight="bold" fill="#f8fafc">ğŸ”§ Training Pipeline Architecture</text>
  
  <!-- Data Collection -->
  <g filter="url(#shadow)">
    <rect x="40" y="70" width="160" height="130" rx="12" fill="#0f172a"/>
    <rect x="40" y="70" width="160" height="35" rx="12 12 0 0" fill="url(#dataGrad)"/>
    <text x="120" y="94" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="13" font-weight="bold" fill="#f8fafc">ğŸ“Š Data Collection</text>
    <text x="55" y="125" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ Click logs</text>
    <text x="55" y="143" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ Impression data</text>
    <text x="55" y="161" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ Search queries</text>
    <text x="55" y="179" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ User sessions</text>
  </g>
  
  <!-- Arrow -->
  <path d="M205 135 L235 135" stroke="#64748b" stroke-width="2"/>
  <polygon points="235,130 250,135 235,140" fill="#64748b"/>
  
  <!-- Label Generation -->
  <g filter="url(#shadow)">
    <rect x="250" y="70" width="160" height="130" rx="12" fill="#0f172a"/>
    <rect x="250" y="70" width="160" height="35" rx="12 12 0 0" fill="url(#labelGrad)"/>
    <text x="330" y="94" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="13" font-weight="bold" fill="#f8fafc">ğŸ·ï¸ Label Generation</text>
    <text x="265" y="125" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ Click = 1, No-click = 0</text>
    <text x="265" y="143" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ Position debias (IPW)</text>
    <text x="265" y="161" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ Conversion labels</text>
    <text x="265" y="179" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ Human ratings</text>
  </g>
  
  <!-- Arrow -->
  <path d="M415 135 L445 135" stroke="#64748b" stroke-width="2"/>
  <polygon points="445,130 460,135 445,140" fill="#64748b"/>
  
  <!-- Feature Engineering -->
  <g filter="url(#shadow)">
    <rect x="460" y="70" width="160" height="130" rx="12" fill="#0f172a"/>
    <rect x="460" y="70" width="160" height="35" rx="12 12 0 0" fill="#ec4899"/>
    <text x="540" y="94" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="13" font-weight="bold" fill="#f8fafc">âš™ï¸ Features</text>
    <text x="475" y="125" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ Query features</text>
    <text x="475" y="143" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ Document features</text>
    <text x="475" y="161" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ Cross features</text>
    <text x="475" y="179" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ User features</text>
  </g>
  
  <!-- Arrow down -->
  <path d="M540 205 L540 235" stroke="#64748b" stroke-width="2"/>
  <polygon points="535,235 540,250 545,235" fill="#64748b"/>
  
  <!-- Model Training -->
  <g filter="url(#shadow)">
    <rect x="250" y="250" width="370" height="140" rx="12" fill="#0f172a"/>
    <rect x="250" y="250" width="370" height="40" rx="12 12 0 0" fill="url(#trainGrad)"/>
    <text x="435" y="277" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#f8fafc">ğŸ§  Model Training</text>
    
    <rect x="270" y="305" width="100" height="70" rx="8" fill="#334155"/>
    <text x="320" y="330" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="11" font-weight="bold" fill="#f8fafc">Pointwise</text>
    <text x="320" y="350" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#64748b">Binary CE</text>
    <text x="320" y="365" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#64748b">MSE Loss</text>
    
    <rect x="385" y="305" width="100" height="70" rx="8" fill="#334155"/>
    <text x="435" y="330" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="11" font-weight="bold" fill="#f8fafc">Pairwise</text>
    <text x="435" y="350" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#64748b">RankNet</text>
    <text x="435" y="365" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#64748b">LambdaRank</text>
    
    <rect x="500" y="305" width="100" height="70" rx="8" fill="#334155"/>
    <text x="550" y="330" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="11" font-weight="bold" fill="#f8fafc">Listwise</text>
    <text x="550" y="350" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#64748b">ListNet</text>
    <text x="550" y="365" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#64748b">SoftRank</text>
  </g>
  
  <!-- Arrow to Eval -->
  <path d="M245 320 L185 320" stroke="#64748b" stroke-width="2"/>
  <polygon points="185,315 170,320 185,325" fill="#64748b"/>
  
  <!-- Evaluation -->
  <g filter="url(#shadow)">
    <rect x="40" y="250" width="130" height="140" rx="12" fill="#0f172a"/>
    <rect x="40" y="250" width="130" height="40" rx="12 12 0 0" fill="url(#evalGrad)"/>
    <text x="105" y="277" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="13" font-weight="bold" fill="#f8fafc">ğŸ“ˆ Eval</text>
    <text x="55" y="310" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ NDCG@k</text>
    <text x="55" y="328" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ MAP</text>
    <text x="55" y="346" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ MRR</text>
    <text x="55" y="364" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ P@k, R@k</text>
    <text x="55" y="382" font-family="Segoe UI, sans-serif" font-size="10" fill="#475569">â€¢ AUC</text>
  </g>
</svg>



